function log(){document.getElementById("results").innerText="",Array.prototype.forEach.call(arguments,function(e){e instanceof Error?e="Error: "+e.message:"string"!=typeof e&&(e=JSON.stringify(e,null,2)),document.getElementById("results").innerHTML+=e+"\r\n"})}function login(){mgr.signinRedirect()}function api(){mgr.getUser().then(function(e){var t=new XMLHttpRequest;t.open("GET","http://localhost:5001/identity"),t.onload=function(){log(t.status,JSON.parse(t.responseText))},t.setRequestHeader("Authorization","Bearer "+e.access_token),t.send()})}function logout(){mgr.signoutRedirect()}document.getElementById("login").addEventListener("click",login,!1),document.getElementById("api").addEventListener("click",api,!1),document.getElementById("logout").addEventListener("click",logout,!1);var config={authority:"http://localhost:5000",client_id:"js",redirect_uri:"http://localhost:5003/callback.html",response_type:"id_token token",scope:"openid profile api1",post_logout_redirect_uri:"http://localhost:5003/index.html"},mgr=new Oidc.UserManager(config);mgr.getUser().then(function(e){e?log("User logged in",e.profile):log("User not logged in")});